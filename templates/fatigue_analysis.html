{% extends 'base.html' %} {% block bodyblock %}
<!-- 12 -->
<div class="container">
  <div class="row">
    <div class="col">
      <br /><br />
      <!-- form : upload the image -->
      <h3 class="display-8">Fatigue Analysis</h3>
      <p>
        Upload an image (.jpg, .jpeg, .png), our model will detect face first
        and then predict the Person them by that person data we determine
        his/her Fatigue level.
      </p>
      <!-- upload image form -->
      <form action="#" method="POST" enctype="multipart/form-data">
        <div class="input-group">
          <input type="file" class="form-control" name="image_name" required />
        </div>
        <br />
        <input
          type="submit"
          value="Upload & Predict"
          class="btn btn-outline-primary"
        />
      </form>

      <br />
      <p style="color: blue">
        Please refresh the browser if image not loaded properly
      </p>
    </div>
    <div class="col-8">
      <!-- report: prediction image, reporting (grayscale, eigen image and probability score) -->
      {% if fileupload %}
      <br /><br />
      <!-- predicted image -->
      <h3 class="display-8">Predicted Image</h3>
      <img
        src="/static/predict/prediction_image.jpg"
        class="image-fluid"
        width="500"
        alt=""
      />
      <!-- reporting -->
      <hr />
      <br />
      <h4>Level Fatigue</h4>
      <h5>0 : No Data, 1 - 4 ( 1 : Fit, 4 : Fatigue)</h5>
      <br />
      <table class="table table-hover table-striped">
        <tr>
          <th>Detection Face</th>
          <th>Prediction Name</th>
          <th>Fatigue Level</th>
        </tr>
        {% for element in report %}
        <tr>
          <td>
            <img
              src="/static/predict/{{ element[0] }}"
              class="image-fluid"
              height="100"
              alt=""
            />
          </td>
          <td>{{ element[1] }}</td>
          <td>{{ element[2] }}</td>
        </tr>
        {% endfor %}
      </table>
      {% endif %}
    </div>
  </div>
</div>

{% endblock %}
